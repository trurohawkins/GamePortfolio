const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/menu-eaI_WesY.js","assets/phaser-BOgQtUoh.js"])))=>i.map(i=>d[i]);
var B=Object.defineProperty;var M=(d,h,e)=>h in d?B(d,h,{enumerable:!0,configurable:!0,writable:!0,value:e}):d[h]=e;var i=(d,h,e)=>M(d,typeof h!="symbol"?h+"":h,e);import{r as C,g as A}from"./phaser-BOgQtUoh.js";(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();var I=C();const a=A(I),E="modulepreload",T=function(d){return"/GamePortfolio/"+d},x={},D=function(h,e,t){let s=Promise.resolve();if(e&&e.length>0){let o=function(l){return Promise.all(l.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),f=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));s=o(e.map(l=>{if(l=T(l),l in x)return;x[l]=!0;const p=l.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${g}`))return;const u=document.createElement("link");if(u.rel=p?"stylesheet":E,p||(u.as="script"),u.crossOrigin="",u.href=l,f&&u.setAttribute("nonce",f),document.head.appendChild(u),p)return new Promise((P,S)=>{u.addEventListener("load",P),u.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(o){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=o,window.dispatchEvent(n),!n.defaultPrevented)throw o}return s.then(o=>{for(const n of o||[])n.status==="rejected"&&r(n.reason);return h().catch(r)})},m=class m extends Phaser.Scene{constructor(){super("preload")}preload(){if(m.started){console.warn("preload preload run twice");return}m.started=!0,console.log("preload loading ding dong"),this.load.setBaseURL("/GamePortfolio/"),this.welcome=document.getElementById("welcome"),this.load.on("progress",t=>{let s="LOADING";for(let r=0;r<t*5;r++)s+=".";this.welcome.textContent=s}),this.load.spritesheet("player","assets/player.png",{frameWidth:32,frameHeight:32});const h="assets/planet.png",e=new URL(h,window.location.href);console.log("Resolved planet url: ",e.href),this.load.image("planet","assets/planet.png"),this.load.image("background","assets/mindBG.png"),this.load.image("cloud","assets/neuronCloud.png"),this.load.video("gloryDogs","assets/trailers/gloryDogsTrailer.mp4"),this.load.video("stroid","assets/trailers/StroidTrailer.mp4"),this.load.video("trembles","assets/trailers/tremblesTrailer.mp4"),this.load.video("peepeeMadness","assets/trailers/PPMadnessTrailer.mp4"),this.load.video("ROHLB","assets/trailers/RollOnHomeLittleBuddy.mp4");for(let t=0;t<5;t++)this.load.image("gd"+t,"assets/gameScreenshots/gloryDogs"+t+".png");for(let t=0;t<6;t++)this.load.image("stroid"+t,"assets/gameScreenshots/stroid"+t+".png");for(let t=0;t<6;t++)this.load.image("trembles"+t,"assets/gameScreenshots/trembles"+t+".png");for(let t=0;t<4;t++)this.load.image("pp"+t,"assets/gameScreenshots/pp"+t+".png");for(let t=0;t<5;t++)this.load.image("rohlb"+t,"assets/gameScreenshots/rohlb"+t+".png");this.load.once("complete",()=>{console.log("loading complete pig pog"),m.menuLaunched=!0,D(async()=>{const{Menu:o}=await import("./menu-eaI_WesY.js");return{Menu:o}},__vite__mapDeps([0,1])).then(({Menu:o})=>{this.scene.add("Menu",o,!0)}),this.welcome.innerHTML="WELCOME!<br><br>Press Space to Enter",console.log("checking planet");const t=this.textures.get("planet");if(console.log("caca"),!t)console.log("no texture for planet");else{const o=t.getSourceImage();o?console.log("Planet size:",o.width,o.height):console.log("no img on planet")}const s=this.textures.get("space");if(!s)console.log("no texture for space");else{const o=s.getSourceImage();o?console.log("space size:",o.width,o.height):console.log("no img on planet")}const r=this.textures.get("background");if(!r)console.log("no texture for BG");else{const o=r.getSourceImage();o?console.log("bg size:",o.width,o.height):console.log("no img on planet")}})}};i(m,"started",!1),i(m,"menuLaunched",!1);let w=m;class k extends a.Physics.Arcade.Sprite{constructor(e,t,s){super(e,t,s,"player");i(this,"boost",500);i(this,"boostPause",80);i(this,"boostPauseCounter",0);i(this,"accelMax",1500);i(this,"accel",0);i(this,"decel",5);i(this,"gravity",500);i(this,"gravAccel",1);i(this,"pull",0);i(this,"grounded",!1);i(this,"home");i(this,"rotSpd",0);i(this,"rotMax",3);i(this,"rotAccel",.1);i(this,"rotDecel",.005);i(this,"rotInput",0);i(this,"rotPause",15);i(this,"rotDrift",.01);i(this,"watching",!1);i(this,"upPress",!1);i(this,"leftPress",!1);i(this,"rightPress",!1);e.add.existing(this),e.physics.add.existing(this),this.createAnimations(),this.play("idle"),this.on("animationcomplete",this.handleAnimationComplete,this),this.setCollideWorldBounds(!1);const r=Math.min(this.width,this.height)/2;this.body.setCircle(r),this.setDepth(4),this.face=e.add.sprite(t,s,"player",14),this.face.setDepth(this.depth+1),this.scene.events.on("postupdate",()=>{this.face.setPosition(this.x,this.y),this.face.setRotation(this.rotation)}),this.keys={down:this.scene.input.keyboard.addKey(a.Input.Keyboard.KeyCodes.S),boost:this.scene.input.keyboard.addKey(a.Input.Keyboard.KeyCodes.SPACE)}}update(){var f;if(this.watching)return;if(this.leftPress&&(this.leftPress=!1),this.rightPress&&(this.rightPress=!1),!this.leftPress&&!this.rightPress&&this.rotSpd!=0){let l=Math.sign(this.rotSpd);Math.abs(this.rotSpd)-this.rotDecel>0?this.rotSpd-=l*this.rotDecel:this.rotSpd=0}if(this.rotSpd!=0)this.rotation+=this.rotSpd;else if(this.rotInput>0)this.rotInput--;else{let l=a.Math.Angle.Between(this.x,this.y,this.home.x,this.home.y);l+=a.Math.DegToRad(-90)}this.upPress?this.upPress=!1:this.boostPauseCounter>0?this.boostPauseCounter--:this.accel-this.decel>0?(this.accel-=this.decel,this.accel<this.accelMax*.4&&((f=this.anims.currentAnim)==null?void 0:f.key)==="boosted"&&this.play("slowing")):this.accel=0,a.Math.Distance.Between(this.x,this.y,this.home.x,this.home.y)<this.home.displayWidth/2+5?this.grounded||(this.pull=0,this.grounded=!0):(this.grounded=!1,this.pull+this.gravAccel<this.gravity?this.pull+=this.gravAccel:this.pull=this.gravity);const t=new a.Math.Vector2(this.x,this.y),r=new a.Math.Vector2(this.home.x,this.home.y).subtract(t);r.normalize(),r.scale(this.pull);const o=new a.Math.Vector2(Math.cos(this.rotation),Math.sin(this.rotation)),n=new a.Math.Vector2(o.y,-o.x);this.setVelocity(n.x*this.accel+r.x,n.y*this.accel+r.y)}upPressed(){if(this.watching)this.stopWatching();else{const e=this.accel/this.accelMax;this.play("boosting"),this.boostPauseCounter=this.boostPause;const t=a.Math.Linear(this.boost,this.boost/100,e);this.accel+t<this.accelMax?this.accel+=t:this.accel=this.accelMax,this.pull=0,this.upPress=!0}}leftPressed(){this.watching?this.stopWatching():(this.rotInput=this.rotPause,this.rotSpd-this.rotAccel>-this.rotMax?this.rotSpd-=this.rotAccel:this.rotSpd=-this.rotMax,this.leftPress=!0)}rightPressed(){this.watching?this.stopWatching():(this.rotInput=this.rotPause,this.rotSpd+this.rotAccel<this.rotMax?this.rotSpd+=this.rotAccel:this.rotSpd=this.rotMax,this.rightPress=!0)}createAnimations(){let e=10;this.scene.anims.create({key:"idle",frames:[{key:"player",frame:0}],frameRate:1,repeat:-1}),this.scene.anims.create({key:"boosting",frames:this.scene.anims.generateFrameNumbers("player",{start:1,end:8}),frameRate:e,repeat:0}),this.scene.anims.create({key:"boosted",frames:[{key:"player",frame:9}],frameRate:1,repeat:-1}),this.scene.anims.create({key:"slowing",frames:this.scene.anims.generateFrameNumbers("player",{start:10,end:12}),frameRate:e,repeat:0})}handleAnimationComplete(e){e.key==="boosting"?this.play("boosted"):e.key==="slowing"&&(this.play("idle"),this.watching&&this.face.setVisible(!1))}watchVideo(){var e;this.setVelocity(0,0),this.accel=0,this.rotSpd=0,this.pull=0,this.watching=!0,((e=this.anims.currentAnim)==null?void 0:e.key)!=="idle"?this.play("slowing"):this.face.setVisible(!1)}stopWatching(){this.watching=!1,this.face.setVisible(!0)}setHome(e){this.home=e}onHomeCollide(e,t){console.log("landed")}}class y extends a.Physics.Arcade.Sprite{constructor(e,t,s,r,o){const n=a.Math.DegToRad(t),f=c/2+Math.cos(n)*s,l=c/2-Math.sin(n)*s;super(e,f,l,"cloud");i(this,"player");i(this,"overlapping",!1);i(this,"scene");i(this,"archive");i(this,"file");this.scene=e,this.archive=o,e.add.existing(this),e.physics.add.existing(this),this.rotation=a.Math.DegToRad(a.Math.Between(0,360));const p=Math.min(this.width,this.height)/2;this.body.setCircle(p),this.body.setOffset(20,20),this.setImmovable(!0),this.player=r}update(){const e=this.scene.physics.overlap(this,this.player);e&&!this.overlapping?this.onPlayerCollide(this.player,this):!e&&this.overlapping,this.overlapping=e,this.rotation+=a.Math.DegToRad(.04)}setVideo(e){this.file=e,this.video=this.scene.add.video(this.x,this.y,e.key),this.scene.videos.push(this.video),this.video.setScale(e.scale),this.video.setLoop(!1),this.video.video.loop=!1,this.video.video.addEventListener("ended",this.onVideoComplete.bind(this)),this.video.setDepth(3)}resetVideo(){this.video.setVisible(!1),this.video.video.currentTime=0,this.video.alpha=1}onPlayerCollide(e,t){if(this.file===void 0)this.setVideo(this.archive.getVideo());else if(this.video.video.currentTime!=0){console.log("video time not done "+this.video.video.currentTime);return}e.watchVideo(),this.archive.playVideo(this),this.archive.setVidInfo(this.file,500)}onVideoComplete(){this.scene.tweens.add({targets:this.video,alpha:0,duration:1e3,ease:"Linear",onComplete:()=>{this.resetVideo()}}),this.player.stopWatching()}}class O extends a.GameObjects.Container{constructor(e){super(e,0,0);i(this,"up",!1);i(this,"turn",!1);i(this,"watched",!1);i(this,"watchUp",!1);i(this,"bgAlpha",.3);this.player=e.player;const t=e.cameras.main;this.cam=t,this.bg=e.add.rectangle(t.width/2,t.height/2,400,100,0),this.bg.fillAlpha=0,this.bg.setDepth(999),this.bg.setOrigin(.5),this.bg.setScrollFactor(0),e.scale.on("resize",()=>{this.onResize()}),this.helpText=e.add.text(t.centerX,t.centerY,"",{fontFamily:"Orbitron",fontSize:"24px",color:"#ffffff",align:"center"}),this.helpText.setOrigin(.5),this.helpText.setDepth(1e3),this.helpText.setScrollFactor(0)}boostText(){this.up||this.setBox(`Press W
to fly through the cosmos!!!`)}watchText(){this.watched||(this.setBox("Press W, A, or D to stop watching"),this.watchUp=!0)}turnText(){this.turn||this.setBox("Press A and D to turn!!!")}setBox(e){this.helpText.setText(e),this.bg.fillAlpha=this.bgAlpha}onResize(){this.bg.x=this.cam.width/2,this.bg.y=this.cam.height/2,this.helpText.x=this.cam.centerX,this.helpText.y=this.cam.centerY}endWatch(){this.watchUp&&(this.turn||(this.scene.time.delayedCall(2e3,()=>{this.turnText()}),this.watchUp=!1),this.resetBox())}upPressed(){this.watchUp?this.endWatch():(this.up=!0,this.resetBox(),this.scene.time.delayedCall(2e3,()=>{this.player.watching?this.watchText():this.turnText()}))}turnPressed(){this.watchUp?this.endWatch():(this.turn=!0,this.resetBox())}resetBox(){this.bg.fillAlpha=0,this.helpText.setText("")}}const c=4500,R=!1;let b=!0,v=!1;class L extends a.Scene{constructor(){super({key:"MainScene"});i(this,"player");i(this,"clouds",[]);i(this,"videos",[]);i(this,"archive");i(this,"instructor")}create(){this.keys={up:this.input.keyboard.addKey(a.Input.Keyboard.KeyCodes.W),left:this.input.keyboard.addKey(a.Input.Keyboard.KeyCodes.A),right:this.input.keyboard.addKey(a.Input.Keyboard.KeyCodes.D),boost:this.input.keyboard.addKey(a.Input.Keyboard.KeyCodes.SPACE)},this.events.on("pause",this.onPause,this),this.events.on("resume",this.onResume,this),this.add.tileSprite(0,0,c+100,c+100,"background").setOrigin(0),this.homeBase=this.physics.add.image(c/2,c/2,"planet");const e=Math.min(this.homeBase.height,this.homeBase.width)/2,t=10;this.homeBase.body.setCircle(e-t),this.homeBase.body.setOffset(t,t),this.homeBase.body.moves=!1,this.homeBase.setImmovable(!0),this.homeBase.setGravity(!1),this.physics.world.setBounds(0,0,c,c),this.player=new k(this,c/2,c/2-this.homeBase.displayWidth/2),this.player.setHome(this.homeBase),this.physics.add.collider(this.player,this.homeBase);const s=this.cameras.main;s.setBounds(0,0,c-40,c-40),s.startFollow(this.player,R,.1,.1),this.instructor=new O(this),this.clouds.push(new y(this,90,500,this.player,this.archive)),this.clouds.push(new y(this,60,1e3,this.player,this.archive)),this.clouds.push(new y(this,180,700,this.player,this.archive)),this.clouds.push(new y(this,0,800,this.player,this.archive)),this.clouds.push(new y(this,270,600,this.player,this.archive))}init(e){this.archive=e.archive}update(){if(b){if(!v&&(a.Input.Keyboard.JustDown(this.keys.boost)||this.input.pointer1.isDown)){v=!0,b=!1;const e=document.getElementById("doorLeft"),t=document.getElementById("doorRight"),s=document.getElementById("welcome");let r={progress:0};this.tweens.add({targets:r,progress:100,duration:1500,ease:"Expo.inOut",onUpdate:()=>{const o=r.progress;e.style.transform=`translateX(${-o}%)`,t.style.transform=`translateX(${o}%)`,s.style.opacity=1-o},onComplete:()=>{b=!1,e.style.zIndex="0",t.style.zIndex="0",s.style.zIndex="0",this.instructor.boostText()}})}}else{(a.Input.Keyboard.JustDown(this.keys.up)||this.input.pointer1.isDown)&&(this.instructor&&this.instructor.upPressed(),this.player.upPressed()),a.Input.Keyboard.JustDown(this.keys.left)&&(this.player.leftPressed(),this.instructor.turnPressed()),a.Input.Keyboard.JustDown(this.keys.right)&&(this.player.rightPressed(),this.instructor.turnPressed()),this.player.update(),this.archive.update();for(let s=0;s<this.clouds.length;s++)this.clouds[s].update();const e=this.cameras.main;if(a.Math.Distance.Between(this.player.x,this.player.y,this.homeBase.x,this.homeBase.y)>c/2){let s=a.Math.Angle.Between(this.player.x,this.player.y,this.homeBase.x,this.homeBase.y);const r=Math.cos(s)*c,o=Math.sin(s)*c;this.player.x+=r,this.player.y+=o,e.scrollX+=r,e.scrollY+=o}}}openDoors(){}doorsOpen(){this.doorRight.setAlpha(0),this.doorLeft.setAlpha(0);const e=document.getElementById("left-panel");e&&(e.className="panel");const t=document.getElementById("right-panel");t&&(t.className="panel");const s=document.getElementById("banner");s&&(s.className="banner"),b=!1}onPause(){console.log("main scene is pausing"),this.videos.forEach(e=>e.pause())}onResume(){this.videos.forEach(e=>e.resume())}}document.getElementById("game-wrapper");const K={type:a.AUTO,parent:"game-wrapper",scale:{mode:a.Scale.RESIZE,parent:"game-wrapper",autoCenter:a.Scale.CENTER_BOTH},backgroundColor:"#000000",physics:{default:"arcade",arcade:{debug:!1}},scene:[w],audio:{disableWebAudio:!1}};window.game||(window.game=new a.Game(K));const z=Object.freeze(Object.defineProperty({__proto__:null,MainScene:L,worldSize:c},Symbol.toStringTag,{value:"Module"}));export{D as _,z as m};
